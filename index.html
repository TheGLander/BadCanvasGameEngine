<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BCGE Tech demo!</title>
    <script src="functions.js"></script>
    <script src="engine.js"></script>
</head>

<body>
    <h1>BCGE Tech demo!</h1>
    <canvas id="game2"></canvas>
    <p id="counter">Sprite count: 0</p>
    <p><button onclick="
        var dummy = new BCGE.Sprite([0, 0], 'example-images/dummy.png');
        var z = 0
        var RID = setInterval(()=>{
            if(spin){
                dummy.degree += 2
            }
            dummy.x = z
            dummy.y = z
            z+= 3
            if(z >= 500){
                dummy.delete()
                clearInterval(RID)
            }
        },16)">Slide diagonally</button></p>
    <p><button onclick="
        var dummy = new BCGE.Sprite([0, 0], 'example-images/dummy.png');
        dummy.togglePhysics({velocity:200,degree:80})
        var RID = setInterval(()=>{
            if(spin){
                dummy.degree += 2
            }
            if(dummy.y >= 480){
                dummy.physics.degree = 280
            }
            if(dummy.y <= 0){
            dummy.physics.degree = 80
            }
            if(dummy.x >= 500){
                dummy.delete()
                clearInterval(RID)
            }
        },16)">Bounce up and down</button></p>
    <p><button onclick="
        var dummy = new BCGE.Sprite([150, 150], 'example-images/dummy.png');
        var z = 0
        dummy.togglePhysics({gravityAcceleration:450,gravityDegree:0})
        var RID = setInterval(()=>{
            if(spin){
                dummy.degree += 6
            }
            dummy.physics.gravityDegree = z % 365 * 6
            z++
            if(dummy.x + dummy.y <= 0){
                dummy.delete()
                clearInterval(RID)
            }
        },16)">Do a spiral</button></p>
    <p><input id="spin" type="checkbox"><label for="spin">Spin!</label></p>
    <script>
        var stage = new BCGE.Stage({
            height: 500,
            width: 500,
            color: "rgb(0,255,0)",
            canvas: document.getElementById("game2"),
            framerate: 60
        });
        setInterval(() => {
            document.getElementById("counter").innerText =
                `Sprite count: ${Object.keys(stage.sprites).length}`
        })
        var spin = false
        var checkmark = document.querySelector('input[id="spin"]');
        document.querySelector('input[id="spin"]').checked = false
        checkmark.addEventListener('click', function (e) {
            spin = !spin
        });
    </script>
</body>

</html>